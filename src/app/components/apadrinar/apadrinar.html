<div class="container my-5 bg-white p-4 rounded shadow" style="max-width: 800px;">

  <div *ngIf="mascota">
    <h2 class="text-center text-primary mb-4">Apadrinar a {{ mascota.nombre }}</h2>

    <div class="row mb-3">
      <div class="col-md-6">
        <img [src]="mascota.imagenURL" alt="Mascota" class="img-fluid rounded shadow-sm" style="max-height: 300px;">
      </div>
      <div class="col-md-6">
        <p><strong>Edad:</strong> {{ mascota.edad }} años</p>
        <p><strong>Género:</strong> {{ mascota.genero }}</p>
        <p><strong>Tamaño:</strong> {{ mascota.tamano }}</p>
        <p><strong>Historia:</strong> {{ mascota.historia }}</p>
      </div>
    </div>
  </div>

  <div *ngIf="!enviado">

    <div class="mb-3">
      <input type="text" class="form-control" placeholder="Tu nombre completo" [(ngModel)]="apadrinamiento.nombreDonante">
    </div>

    <div class="mb-3">
      <input type="email" class="form-control" placeholder="Tu correo electrónico" [(ngModel)]="apadrinamiento.correoDonante">
    </div>

    <div class="mb-3">
      <input type="text" class="form-control" placeholder="Tu teléfono" [(ngModel)]="apadrinamiento.telefono">
    </div>

    <div class="mb-3">
      <input type="number" class="form-control" placeholder="Monto de donación mensual (S/)" [(ngModel)]="apadrinamiento.monto">
    </div>

    <div class="mb-3">
      <textarea class="form-control" placeholder="Mensaje (opcional)" [(ngModel)]="apadrinamiento.mensaje"></textarea>
    </div>

    <!-- Botón de PayPal funcional -->
    <div class="text-center mb-4">
      <form action="https://www.paypal.com/donate" method="post" target="_top">
        <input type="hidden" name="hosted_button_id" value="W4WR853BZ3HC6" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
        <img alt="" border="0" src="https://www.paypal.com/en_PE/i/scr/pixel.gif" width="1" height="1" />
      </form>
    </div>

    <!-- Botón Finalizar -->
    <div class="text-center">
      <button class="btn btn-success px-4" (click)="finalizarApadrinamiento()">Finalizar apadrinamiento</button>
    </div>

  </div>

  <!-- Mensaje de éxito -->
  <div *ngIf="enviado" class="text-center mt-5">
    <h4 class="text-success">✅ Apadrinamiento registrado con éxito</h4>
    <button class="btn btn-outline-primary mt-3" (click)="reiniciar()">Volver a llenar</button>
  </div>
</div>
