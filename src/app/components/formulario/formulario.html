<div class="container mt-4">
  <h3 class="mb-4 text-center">ðŸ“„ Formularios de AdopciÃ³n</h3>

  <div class="table-responsive shadow rounded">
    <table class="table table-hover table-bordered align-middle">
      <thead class="table-light text-center">
        <tr>
          <th>Nombre</th>
          <th>Mascota</th>
          <th>Correo</th>
          <th>Edad</th>
          <th>Telefono</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody class="text-center">
        <tr *ngFor="let f of formularios" class="align-middle">
          <td>{{ f.nombre }}</td>
          <td><strong>{{ f.idMascota?.nombre || 'Mascota no encontrada' }}</strong></td>
          <td>{{ f.correo }}</td>
          <td>{{ f.edad }}</td>
          <td>{{ f.telefono }}</td>
          <td>
            <span class="badge px-3 py-2" [ngClass]="{
              'bg-success': f.estado === 'aprobado',
              'bg-warning text-dark': f.estado === 'pendiente',
              'bg-danger': f.estado === 'rechazado'
            }">
              {{ f.estado | titlecase }}
            </span>
          </td>
          <td>
            <div class="btn-group" role="group">
              <button class="btn btn-sm btn-outline-info" (click)="verDetalle(f)">Ver</button>
              <button class="btn btn-sm btn-outline-success" (click)="actualizarEstado(f._id!, 'aprobado')">âœ”</button>
              <button class="btn btn-sm btn-outline-danger" (click)="actualizarEstado(f._id!, 'rechazado')">âœ–</button>
              <button class="btn btn-sm btn-outline-secondary" (click)="eliminarFormulario(f._id!)">ðŸ—‘</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="detalleFormularioModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title">ðŸ“‹ Detalles del Formulario</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" *ngIf="formularioSeleccionado">
          <div class="row">
            <div class="col-md-6">
              <p><strong>1. Â¿Por quÃ© quieres adoptar?</strong> {{ formularioSeleccionado.motivo }}</p>
              <p><strong>2. Â¿Vives en alquiler, casa o piso propio?</strong> {{ formularioSeleccionado.vivienda }}</p>
              <p><strong>3. Â¿QuÃ© pasarÃ­a si dejas la vivienda?</strong> {{ formularioSeleccionado.situacionCambio }}</p>
              <p><strong>4. Â¿QuÃ© harÃ­as si alguien desarrolla alergia al peludito?</strong> {{ formularioSeleccionado.alergias }}</p>
              <p><strong>5. Â¿A quÃ© zonas de la casa tendrÃ­a acceso la mascota?</strong> {{ formularioSeleccionado.zonasAcceso }}</p>
              <p><strong>6. Â¿EstÃ¡s preparado para la responsabilidad y los gastos?</strong> {{ formularioSeleccionado.preparado }}</p>
              <p><strong>7. Â¿Has tenido mascotas antes? Â¿QuÃ© les pasÃ³?</strong> {{ formularioSeleccionado.antecedentesMascota }}</p>
            </div>
            <div class="col-md-6">
              
              <p><strong>8. Â¿QuÃ© harÃ­as si sales de vacaciones varios dÃ­as?</strong> {{ formularioSeleccionado.vacaciones }}</p>
              <p><strong>9. Â¿QuÃ© harÃ­as si la mascota se porta mal?</strong> {{ formularioSeleccionado.conductaNegativa }}</p>
              <p><strong>10. Â¿CuÃ¡nto tiempo aprox. estarÃ­a sola la mascota?</strong> {{ formularioSeleccionado.tiempoSolo }}</p>
              <p><strong>11. Â¿CÃ³mo conociste este sitio web y a la mascota?</strong> {{ formularioSeleccionado.descubrimiento }}</p>
              <p><strong>12. Â¿En quÃ© distrito vives?</strong> {{ formularioSeleccionado.distrito }}</p>
              <p><strong>13. Â¿Por quÃ© decidiste adoptar ahora?</strong> {{ formularioSeleccionado.razonActual }}</p>
              <p><strong>14. Â¿Vives solo o acompaÃ±ado?</strong> {{ formularioSeleccionado.convivencia }}</p>
              <p><strong>15. Â¿Todos estÃ¡n de acuerdo con la adopciÃ³n?</strong> {{ formularioSeleccionado.acuerdo }}</p>
            </div>
          </div>
        </div>

        <div class="modal-footer bg-light">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
</div>
